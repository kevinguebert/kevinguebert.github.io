<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" 
      type="image/png" 
      href="/favicon.png">

    <title>Behat and JS? Go CasperJS - Kevin Guebert</title>
    <meta name="description" content="Today while writing tests (shocking, I know), I came across an interesting and unknown (at the time) scenario. For the site, I wanted to test and make sure a...">

    <link href='https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto:300,400,900,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/blog/2018/01/03/behat-and-casper.html">
    <link rel="alternate" type="application/rss+xml" title="Kevin Guebert" href="http://localhost:4000/feed.xml">
<script src="http://127.0.0.1:35729/livereload.js"></script></head>

    <body>
        <main class="u-container">
        <div class="c-page">
    <header class="c-page__header">
    <h1><code>Kevin Guebert</code><br />
    <code>Currently reading: <i>The $100 Startup</i></code></h1>

    
    <p>
        <a href="/">Home</a><span
          class="u-separate"></span><a href="#topics">Topics</a><span class="u-separate"></span><a href="/books/">Books</a><span class="u-separate"></span><a href="https://trello.com/b/lVgkXJ30/reading-list" target="_blank">Upcoming Books</a>
    </p>
</header>

    <div class="c-page__main">
    <article class="c-article">
    <header class="c-article__header">
        <h1 class="c-article__title">Behat and JS? Go CasperJS</h1>
        <p class="c-article__time"><time datetime="2018-01-03T00:00:00-07:00" itemprop="datePublished">Jan 3, 2018</time></p>
    </header>
    
    <!-- Post Tags -->
    <ul class="c-tags">
    
      <li class="c-tag"><a href="/tag/drupal">drupal</a></li>
    
      <li class="c-tag"><a href="/tag/coding">coding</a></li>
    
    </ul>

    <div class="c-article__main">
        <p>Today while writing tests (shocking, I know), I came across an interesting and unknown (at the time) scenario. For the site, I wanted to test and make sure a certain element was showing up on the page. At the time, I was writing Behat tests to do some functionality and the tests are very simple to write, so I decided to try and create a simple test for my element. <em>Usually</em> this is pretty straightforward:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Given I am on "/" #the homepage
Then I should see ".ad-block" element
</code></pre>
</div>

<p>As you can see above, I am checking to make sure an ad is showing up on the page. <em>However</em> the problem is that the ads do not populate on first page load. They have to send a request to get the ads and populate them. So, this means for Behat, it is <strong>not waiting</strong> for those ads to load! The driver I am using is the Goutte driver, so any chance at creating a FeatureContext is not possible with javascript. Example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Given I am on "/"
And I wait 4 seconds
</code></pre>
</div>

<p>Thatâ€™s what I learned today! Luckily, Behat is our <strong>Behavior Driven Development</strong> testing framework, but we also use CasperJS for our testing. In fact, there were already tests written for other ads on the site. The more you know!</p>

    </div>
  
    <!-- Previous / Next Buttons -->
    <div class="pagenav">
		
        <div class="wrapper" id="left">
          <small><b>Previous</b> Jan 2, 2018</small>
          <br>
          <a class="no-hov" href="/blog/2018/01/02/elon-musk.html">&laquo; Elon Musk in the Wizard of Oz</a>
        </div>
		
		
        <div class="wrapper" id="right">
          <small>Jan 4, 2018 <b>Next</b></small>
          <br>
          <a class="no-hov" href="/blog/2018/01/04/the-best-for-yourself.html">Stoicism & Discipline Equals Freedom &raquo;</a>
        </div>
		
		</div>

		<!-- Disqus comments view -->
		
</article>

    
<a name="topics"></a><div class="tags">
  <h3 id="header-3">Topics to Explore</h3>
  <a href="/tag/algorithms.html" rel="tag" class="no-hov">algorithms,</a>
  <a href="/tag/books.html" rel="tag" class="no-hov">books,</a>
  <a href="/tag/coding.html" rel="tag" class="no-hov">coding,</a>
  <a href="/tag/drupal.html" rel="tag" class="no-hov">drupal,</a>
  <a href="/tag/fitness.html" rel="tag" class="no-hov">fitness,</a>
  <a href="/tag/health.html" rel="tag" class="no-hov">health,</a>
  <a href="/tag/ideas.html" rel="tag" class="no-hov">ideas,</a>
  <a href="/tag/marketing.html" rel="tag" class="no-hov">marketing,</a>
  <a href="/tag/mysql.html" rel="tag" class="no-hov">mysql,</a>
  <a href="/tag/personal-growth.html" rel="tag" class="no-hov">personal-growth,</a>
  <a href="/tag/py4e.html" rel="tag" class="no-hov">py4e,</a>
  <a href="/tag/recap.html" rel="tag" class="no-hov">recap,</a>
  <a href="/tag/recommendations.html" rel="tag" class="no-hov">recommendations,</a>
  <a href="/tag/reflection.html" rel="tag" class="no-hov">reflection,</a>
  <a href="/tag/running.html" rel="tag" class="no-hov">running,</a>
  <a href="/tag/sleep.html" rel="tag" class="no-hov">sleep,</a>
  <a href="/tag/startups.html" rel="tag" class="no-hov">startups,</a>
  <a href="/tag/stoicism.html" rel="tag" class="no-hov">stoicism,</a>
  <a href="/tag/tutorial.html" rel="tag" class="no-hov">tutorial,</a>
  <a href="/tag/video.html" rel="tag" class="no-hov">video</a>
</div>

    </div>
    <footer class="c-page__footer">
    <p>&copy; Kevin Guebert 2018</p>
    <p><a href="https://twitter.com/kevinguebert">Twitter</a><span class="u-separate"></span><a href="https://github.com/kevinguebert">Github</a></p>
</footer>

</div>

        </main>
    
    </body>
</html>
